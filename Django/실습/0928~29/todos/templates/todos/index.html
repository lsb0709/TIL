{% extends 'base.html' %}

{% block content %}

<div class="container p-5 mt-5">
    <form action="{% url 'todos:create' %}">
        <div class="input-group input-group-sm mb-3">
            <span class="input-group-text" id="inputGroup-sizing-sm">할 일</span>
            <input type="text" name="content" maxlength="80" class="form-control" aria-label="Sizing example input"
                aria-describedby="inputGroup-sizing-sm">
        </div>

        <div class="input-group mb-3">
            <label class="input-group-text" for="inputGroupSelect01">우선 순위</label>
            <select class="form-select" name="priority" id="inputGroupSelect01">
                <option value="1">1</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5</option>
            </select>
        </div>

        <div class="input-group mb-3">
            <span class="input-group-text" id="inputGroup-sizing-default">마감 기한</span>
            <input type="date" class="form-control" aria-label="Sizing example input"
                aria-describedby="inputGroup-sizing-default">
        </div>

        <div class="d-grid gap-2">
            <input class="btn btn-outline-primary" type="submit" value="할 일 추가">
        </div>
    </form>
    <table class="table mt-5">
        <thead>
            <tr>
                <th scope="col">우선순위</th>
                <th scope="col">할 일</th>
                <th scope="col">생성 날짜</th>
                <th scope="col">마감 기한</th>
                <th scope="col">진행 상태</th>
                <th scope="col">상태 변경</th>
                <th scope="col">삭제</th>
            </tr>
        </thead>
        <tbody>
            {% for todo in todos %}
            <tr>
                {% if todo.completed %}
                <td><del>{{ todo.priority }}</del></td>
                <td><del>{{ todo.content }}</del></td>
                <td><del>{{ todo.created_at }}</del></td>
                <td><del>{{ todo.deadline }}</del></td>
                <td><del>{{ todo.completed }}</del></td>
                <td><a href="{%url 'todos:update' todo.pk %}">변경</a> </td>
                <td><a href="{% url 'todos:delete' todo.pk %}">삭제</a></td>

                {% else %}
                <td>{{ todo.priority }} </td>
                <td>{{ todo.content }}</td>
                <td>{{ todo.created_at }}</td>
                <td>{{ todo.deadline }}</td>
                <td>{{ todo.completed }}</th>
                <td><a href="{%url 'todos:update' todo.pk %}">변경</a> </td>
                <td><a href="{% url 'todos:delete' todo.pk %}">삭제</a></td>
                {% endif %}
            </tr>
            {% endfor %}
        </tbody>

</div>
{% endblock %}